<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Vivus Instant - inline svg animation</title>
		<meta name="description" content="Inline SVG Drawing Animation" />

		<link rel="stylesheet" href="style/layout.css">
		<link rel="stylesheet" href="style/sidebar.css">
		<link rel="stylesheet" href="style/viewer.css">
	</head>
  <body>

		<div class="viewer">
			<input class="viewer-switch" type="checkbox" onchange="this.parentNode.classList.toggle('dark')">
		</div>
		<div class="toolbar"></div>

		<div class="sidebar">
			<div class="sidebar-head">
				<h2>Vivus instant</h2>
				<p>More help about options on <a href="https://github.com/maxwellito/vivus">Vivus documentation</a></p>
				<p><a href="https://github.com/maxwellito/vivus-instant">GitHub</a></p>
			</div>
	    <form>
				<div class="form-radio">
					<input  id="form_start_auto" type="radio" name="start" value="autostart" checked="checked" onchange="optionCtrl.updateForm()">
					<label for="form_start_auto">Autostart</label>
					<input  id="form_start_manuel" type="radio" name="start" value="manual" onchange="optionCtrl.updateForm()">
					<label for="form_start_manuel">Manual</label>
				</div>

				<fieldset class="manual-trigger-class-panel">
					<label class="form-input-inline">
						<span class="label">Trigger class</span>
						<input type="text" name="triggerClass" value="start"/>
					</label>
				</fieldset>

				<fieldset>
					<div class="form-input-inline">
		        <span class="label">Animation type</span>
		        <select name="type" onchange="optionCtrl.updateForm()">
		          <option value="delayed" selected="selected">Delayed start</option>
		          <option value="async">Syncronous</option>
		          <option value="oneByOne">One By One</option>
							<!-- This is not mainstream enough to be released
		          <option value="script">script</option>
		          <option value="scenario">scenario</option>
		          <option value="scenario-sync">scenario-sync</option>
							-->
		        </select>
		      </div>

					<label class="form-input-inline delay-panel">
		        <span class="label">Delay <span class="label-info">in ms</span></span>
		        <input type="number" min="0" name="delay" placeholder="auto"/>
		      </label>
				</fieldset>

				<fieldset>
					<label class="form-input-inline">
		        <span class="label">Duration <span class="label-info">in ms</span></span>
		        <input type="number" min="0" name="duration" value="3000"/>
		      </label>

		      <div class="form-input-inline">
		        <span class="label">Path timing function</span>
		        <select name="pathTimingFunction">
		          <option value="linear" selected="selected">Linear</option>
		          <option value="ease">Ease</option>
		          <option value="ease-in">Ease in</option>
		          <option value="ease-out">Ease out</option>
		          <option value="ease-in-out">Ease in out</option>
		        </select>
		      </div>
				</fieldset>

				<fieldset>
					<label class="form-input-inline">
						<span class="label">Loop</span>
						<input type="checkbox" name="loop"  onchange="optionCtrl.updateForm()">
					</label>

					<div class="control-loop-panel">
						<label class="form-input-inline">
							<span class="label">End pause <span class="label-info">in ms</span></span>
							<input type="number" name="loopEnd" value="3000"/>
						</label>

						<label class="form-input-inline">
							<span class="label">Fade duration <span class="label-info">in ms</span></span>
							<input type="number" name="loopTransition" value="400"/>
						</label>

						<label class="form-input-inline">
							<span class="label">Start delay <span class="label-info">in ms</span></span>
							<input type="number" name="loopStart" value="800"/>
						</label>
					</div>
				</fieldset>

				<button type="button" onclick="draw()" class="full-width">Update</button>
				<button type="button" onclick="viewerCtrl.download()" class="full-width" disabled>Download</button>
	    </form>
		</div>

		<!-- Le scripts -->
		<script src="scripts/stylesheet.js"></script>
		<script src="scripts/pathformer.js"></script>
		<script src="scripts/vivus.js"></script>
		<script src="scripts/ViewerCtrl.js"></script>
		<script src="scripts/OptionsCtrl.js"></script>

		<script>

		var myVivus,
				viewerCtrl = new ViewerController(document.querySelector('.viewer')),
				optionCtrl = new OptionController(document.querySelector('.sidebar'));

		viewerCtrl.onNewSVG(function (leSVG) {
			optionCtrl.toggleActions(true);

			// Let's prepare the SVG by transforming all
			// elements to paths.
			new Pathformer(leSVG);
			myVivus = new VivusInstant(leSVG, optionCtrl.getOptions());
		});

		function draw () {
			viewerCtrl.refreshSVG();
			myVivus.setOptions(optionCtrl.getOptions());
			myVivus.render();
		}
		</script>

  </body>
</html>
